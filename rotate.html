<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rotate PDF | BOO BOO PDF Editor</title>

  <style>
    :root {
      --charcoal: #444444;
      --lavender-light: #efd9ff;
      --lavender-text: #c77dff;
      --white: #ffffff;
    }

    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background-color: var(--white);
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
    }

    .main-container {
      display: flex;
      max-width: 1400px;
      width: 95%;
      gap: 30px;
      padding: 40px 0;
    }

    .content-area {
      flex: 3;
      text-align: center;
      min-width: 0; /* Prevents flex items from overflowing */
    }

    /* Standardized Header */
    .header-box {
      background-color: var(--charcoal);
      color: var(--lavender-text);
      border: 3px solid var(--lavender-text);
      border-radius: 10px;
      padding: 20px 50px;
      display: inline-flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 40px;
      cursor: pointer;
    }

    .header-box h1 {
      font-family: 'Georgia', serif;
      font-size: 50px;
      margin: 0;
    }

    .header-box .divider {
      width: 2px;
      height: 50px;
      background-color: var(--lavender-text);
    }

    .header-box span {
      font-size: 20px;
      text-align: left;
      line-height: 1.1;
      font-weight: bold;
    }

    /* Tool UI */
    .tool-section {
      background-color: #fcfcfc;
      padding: 40px;
      border-radius: 30px;
      border: 1px dashed var(--lavender-text);
      margin-bottom: 40px;
    }

    .action-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }

    .tool-btn {
      background-color: var(--lavender-light);
      border: none;
      padding: 15px 25px;
      font-size: 15px;
      font-weight: bold;
      color: #444;
      border-radius: 50px;
      cursor: pointer;
      transition: 0.2s;
    }

    .tool-btn:hover:not(:disabled) {
      background-color: #e1bfff;
      transform: translateY(-2px);
    }

    .tool-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    input[type="file"] { display: none; }

    iframe {
      border: 1px solid #ccc;
      border-radius: 15px;
      margin-top: 30px;
      width: 100%;
      max-width: 800px;
      height: 500px;
    }

    /* SEO/AdSense Text Content Section */
    .info-content {
      text-align: left;
      margin-top: 50px;
      color: #555;
      padding: 0 20px;
    }

    .info-content h2 { color: var(--charcoal); border-left: 5px solid var(--lavender-text); padding-left: 15px; margin-top: 30px; }

    /* FOOTER SECTION - Sleek/Small */
    .footer-box {
      background-color: var(--charcoal);
      border-radius: 60px;
      padding: 20px 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 40px;
      color: white;
      margin-top: 60px;
    }

    .footer-buttons {
      display: flex;
      flex-direction: column;
      gap: 8px;
      width: 100%;
      max-width: 350px;
    }

    .footer-btn {
      background-color: var(--lavender-light);
      padding: 8px 20px;
      border-radius: 25px;
      color: #444;
      text-decoration: none;
      font-weight: bold;
      font-size: 12px;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 35px;
      transition: 0.2s;
    }

    .footer-btn:hover { background-color: var(--white); }

    .contact-info { border-left: 3px solid var(--lavender-text); padding-left: 20px; text-align: left; }
    .contact-info h4 { font-size: 18px; margin: 0; color: var(--lavender-text); }

    /* Sidebar Ad */
    .ad-sidebar {
      flex: 1;
      background-color: var(--lavender-light);
      border-radius: 30px;
      display: none;/*please change it to flex after*/
      align-items: center;
      justify-content: center;
      min-height: 600px;
    }

    .ad-text {
      writing-mode: vertical-rl;
      transform: rotate(180deg);
      font-size: 40px;
      color: var(--charcoal);
      opacity: 0.3;
      font-family: 'Georgia', serif;
    }

    /* --- MOBILE RESPONSIVE UPDATES --- */
    @media (max-width: 1000px) {
      .main-container { flex-direction: column; padding: 20px 0; }
      
      .header-box { padding: 15px 25px; gap: 15px; margin-bottom: 25px; }
      .header-box h1 { font-size: 28px; }
      .header-box .divider { height: 35px; }
      .header-box span { font-size: 14px; }

      .tool-section { padding: 20px; border-radius: 20px; }
      .tool-btn { width: 100%; padding: 12px; font-size: 15px; }
      
      iframe { height: 400px; }

      .ad-sidebar { width: 100%; min-height: 150px; margin-top: 20px; }
      .ad-text { writing-mode: horizontal-tb; transform: rotate(0); font-size: 24px; }

      .footer-box { flex-direction: column; gap: 20px; border-radius: 30px; padding: 25px 20px; }
      .footer-buttons { max-width: 100%; }
      .footer-btn { font-size: 11px; min-height: 32px; }
      .contact-info { border-left: none; border-top: 2px solid var(--lavender-text); padding-top: 15px; text-align: center; }
    }
  </style>
</head>
<body>

<div class="main-container">
  <div class="content-area">
    
    <div class="header-box" onclick="location.href='index.html'">
      <h1>ROTATE</h1>
      <div class="divider"></div>
      <span>PDF<br>EDITOR</span>
    </div>

    <div class="tool-section">
      <div class="action-buttons">
        <label class="tool-btn">
          Upload PDF
          <input type="file" id="pdfFile" accept="application/pdf">
        </label>
        <button class="tool-btn" onclick="rotatePdf(90)">Rotate 90째</button>
        <button class="tool-btn" onclick="rotatePdf(180)">Rotate 180째</button>
        <button class="tool-btn" onclick="rotatePdf(270)">Rotate 270째</button>
        <button class="tool-btn" id="downloadBtn" disabled>Download</button>
      </div>
      <div id="preview"></div>
    </div>

    <div class="info-content">
      <h2>How to Rotate PDF Pages Permanently</h2>
      <p>Ever scanned a document only to find it's upside down or sideways? BOO BOO PDF Editor makes it incredibly easy to fix page orientation. Simply upload your file, choose the degree of rotation, and download your corrected document instantly.</p>
      
      <h2>Secure & Anonymous</h2>
      <p>Your documents are processed entirely within your web browser. This means your PDF never leaves your computer and is never saved on any server. It is 100% private and secure.</p>

      <h2>A Project by SEUSL Students</h2>
      <p>This tool is part of a suite of PDF utilities developed at the South Eastern University of Sri Lanka (SEUSL). We provide professional-grade tools for free to students worldwide.</p>
    </div>

    <div class="footer-box">
      <div class="footer-buttons">
        <div style="display: flex; gap: 10px; width: 100%;">
          <a href="about.html" class="footer-btn" style="flex: 1;">ABOUT US</a>
          <a href="terms.html" class="footer-btn" style="flex: 1;">TERMS & CONDITIONS</a>
        </div>
        <a href="privacy.html" class="footer-btn">PRIVACY POLICY</a>
      </div>

      <div class="contact-info">
        <h4 style="margin:0; color:var(--lavender-text)">Contact us</h4>
        <p style="margin:5px 0 0 0; font-size:14px; color: #bbb;">pabasaradimuth12345@gmail.com</p>
      </div>
    </div>
  </div>

  <div class="ad-sidebar">
      <div class="ad-text" style="writing-mode: horizontal-tb; transform: rotate(0); font-size: 14px; margin-bottom: 20px; opacity: 0.5;">ADVERTISEMENT</div>
      
      <script>(function(s){s.dataset.zone='10607299',s.src='https://nap5k.com/tag.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
    </div>
</div>

<script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
<script>
    let rotatedPdfUrl = null;

    async function rotatePdf(degrees) {
      const fileInput = document.getElementById('pdfFile');
      const preview = document.getElementById('preview');

      if (!fileInput.files.length) {
        alert('Please upload a PDF file.');
        return;
      }

      preview.innerHTML = '<p style="color:var(--lavender-text); font-weight:bold;">Processing Rotation... Please wait.</p>';

      try {
        const file = fileInput.files[0];
        const bytes = await file.arrayBuffer();
        const pdfDoc = await PDFLib.PDFDocument.load(bytes);

        const pages = pdfDoc.getPages();
        pages.forEach(page => {
          page.setRotation(
            PDFLib.degrees((page.getRotation().angle + degrees) % 360)
          );
        });

        const rotatedBytes = await pdfDoc.save();
        const blob = new Blob([rotatedBytes], { type: 'application/pdf' });
        
        if (rotatedPdfUrl) URL.revokeObjectURL(rotatedPdfUrl);
        rotatedPdfUrl = URL.createObjectURL(blob);

        // --- MOBILE FRIENDLY PREVIEW ---
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        if (isMobile) {
            preview.innerHTML = `
                <div style="padding: 20px; background: var(--lavender-light); border-radius: 15px; color: var(--charcoal); margin-top: 20px; border: 1px solid var(--lavender-text);">
                    <strong style="color: var(--lavender-text);">Success!</strong> PDF rotated ${degrees}째. <br>
                    Tap <b>Download</b> below to save the file.
                </div>`;
        } else {
            preview.innerHTML = `<iframe src="${rotatedPdfUrl}"></iframe>`;
        }
        
        document.getElementById('downloadBtn').disabled = false;
      } catch (e) {
        alert('Error rotating PDF. The file might be corrupted or protected.');
        preview.innerHTML = '';
      }
    }

    document.getElementById('downloadBtn').addEventListener('click', () => {
      if (!rotatedPdfUrl) return;
      const a = document.createElement('a');
      a.href = rotatedPdfUrl;
      a.download = 'rotated-booboo.pdf';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    });
</script>

</body>

</html>

